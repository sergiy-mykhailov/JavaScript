# **Operators**
***

# 2. Operators 

## 2.1 Arithmetic

### Остаток от деления (%)
```javascript
12 % 5  // вернёт 2
```

### Унарный минус (-)
Возвращает отрицательное значение своего операнда
```javascript
var x = 3;
-x // вернёт -3
```

### Унарный плюс (+)
Пытается конвертировать операнд в число
```javascript
+"3"   // вернёт 3.
+true  // вернёт 1.
```

### Инкремент (более короткая запись для i = i + 1):
```javascript
var i = 0;
alert( i++ );      // 0, Постфиксная форма, возвращает старое значение
alert( ++i );      // 2, Префиксная форма, возвращает новое значение
```

### Декремент (более короткая запись для i = i - 1):
```javascript
var i = 10;
alert( i-- );      // 10, Постфиксная форма, возвращает старое значение
alert( --i );      // 8, Префиксная форма, возвращает новое значение
```

### Совмещённые операторы
```javascript
var n = 2;
n += 5;     // теперь n=7 (работает как n = n + 5)
n *= 2;     // теперь n=14 (работает как n = n * 2)
```
Так можно сделать для операторов +,-,*,/,% и бинарных <<,>>,>>>,&,|,^

## 2.2. Assignment

```javascript
var a, b, c;

a = b = c = 2 + 2;

alert( a ); // 4
alert( b ); // 4
alert( c ); // 4
```

### Оператор "=" возвращает значение
```javascript
var a = 1;
var b = 2;

var c = 3 - (a = b + 1);

alert( a ); // 3
alert( c ); // 0
```

## 2.3. Comparison
Значения разных типов приводятся к числу при сравнении, за исключением строгого равенства === (!==).

### Операторы сравнения
> `<` `==` `!=`  `>=` `<=` `===` `!==` `>==` `<==` `!`

### Сравнение разных типов
```javascript
alert( '2' > 1 );     // true, сравнивается как 2 > 1
alert( '01' == 1 );   // true, сравнивается как 1 == 1
alert( false == 0 );  // true, false становится числом 0
alert( true == 1 );   // true, так как true становится числом 1.
2 == '2'              // True
2 === '2'             // False
1 == 1n               // true
1 === 1n              // false
2n > 1n               // true
2n > 1                // true
undefined == null     // True
undefined === null    // False
false == ""           // true
false == []           // true
false == {}           // false
"" == 0               // true
"" == []              // true
"" == {}              // false
0 == []               // true
0 == {}               // false
0 == null             // false
3 > 2 > 1             // true > 1  ->  1 > 1  ->  false
```
[Чит-лист](http://dorey.github.io/JavaScript-Equality-Table/)

### Сравнение с null и undefined
1. Значения null и undefined равны == друг другу и не равны чему бы то ни было ещё
2. При преобразовании в число null становится 0, а undefined становится NaN.
```javascript
alert( null > 0 );        // false
alert( null == 0 );       // false
alert( null >= 0);         // true
alert( undefined > 0 );   // false
alert( undefined < 0 );   // false
alert( undefined == 0 );  // false
```

### Сравнение чисел
```javascript
Number.MAX_VALUE + 1 === Number.MAX_VALUE // true
0.1 + 0.2 != 0.3 // true, you can use `exact-math`
```

## 2.4. Логические операторы
Если значение не логического типа – то оно к нему приводится в целях вычислений.
#### || (ИЛИ)
* если хотя бы один из аргументов false (`0`, `'''`, `NaN`, `null`, `undefined`), то возвращает false, иначе – true
* вычисляет операнды слева направо до первого «истинного»
* возвращает то значение, на котором остановились вычисления
* если все значения «ложные», то возвращает последнее
#### ?? (nullish coalescing)
*  если хотя бы один из аргументов `null` или `undefined`, то возвращает false, иначе – true
*  вычисляет операнды слева направо до первого «истинного»
*  возвращает то значение, на котором остановились вычисления
*  если все значения «ложные», то возвращает последнее
#### && (И)
*  возвращает true, если оба аргумента истинны, а иначе – false
*  вычисляет операнды слева направо до первого «ложного»
*  возвращает первое «ложное»
*  если все значения истинные – то возвращает последнее значение
#### ! (НЕ)
* Сначала приводит аргумент к логическому типу true/false.
* Затем возвращает противоположное значение.

```javascript
null || undefined ?? "foo";   // SyntaxError
(null || undefined) ?? "foo"; // returns "foo"
```

## 2.5. Bitwise
Значение        | Оператор
----------------|-------------------
AND(и)          | & 
OR(или)         | (вертикальная черта) 
XOR(побитовое исключающее или) | ^ 
NOT(не) | ~ 
LEFT SHIFT(левый сдвиг) | << 
RIGHT SHIFT(правый сдвиг) | >> 
ZERO-FILL RIGHT SHIFT(правый сдвиг с заполнением нулями) | >>> 

## 2.6. Оператор запятая
**Оператор запятая (,)** вычисляет оба операнда и возвращает значение последнего операнда.
Данный оператор в основном используется внутри цикла for.

## 2.7. Оператор delete
`delete` - полностью удаляет свойство из объекта.
`delete` Эффективен только применительно к свойствам объектов. 
Он не оказывает никакого влияния на имена переменных и функций.

```javascript
x = 42;
var y = 43;
myobj = {};
myobj.h = 4;
myobj.k = 5;

delete object.property
delete object['property']
delete array[index]
delete property // удаляет свойства глобального объекта, или,
with(myobj) {   // используя инструкцию with, свойства объекта, на который ссылается инструкция
    delete k;   // возвращает true  (эквивалентно delete myobj.k)
}              

delete x;       // возвращает true  (x - свойство глобального объекта и может быть удалено)
delete y;       // возвращает false (delete не влияет на имена переменных)
delete Math.PI; // возвращает false (delete не влияет на определённые встроенные свойства)
delete myobj.h; // возвращает true  (свойства, определённые пользователем могут быть удалены)
delete myobj;   // возвращает true  (myobj это свойство глобального объекта, не переменная, поэтому может быть удалено)
```

## 2.8. Оператор void
Оператор **void** определяет выражение, которое должно быть вычислено без возвращения результата
```javascript
void (expression)
void expression
```

## 2.9. Оператор in
```javascript
propNameOrNumber in objectName 
```
Оператор **in** возвращает true, если указанный объект имеет указанное свойство.
```javascript
var trees = ["redwood", "bay", "cedar", "oak", "maple"];
0 in trees        // true
"length" in trees // true

var mycar = { make: "Honda", model: "Accord", year: 1998 };
"make" in mycar  // true
```

## 2.10. Приоритет операторов
Тип оператора |	Операторы
:-----------:|:---------:
свойство объекта | . []
вызов, создание экземпляра объекта | () new
отрицание, инкремент | ! ~ - + ++ -- typeof void delete
умножение, деление | * / %
сложение, вычитание | + -
побитовый сдвиг | << >> >>>
сравнение, вхождение | < <= > >= in instanceof
равенство | == != === !==
битовое-и | &
битовое-исключающее-или |^
битовое-или | &#124;
логическое-и | &&
логическое-или | &#124;&#124;
условный (тернарный) оператор | ?:
присваивание | = += -= *= /= %= <<= >>= >>>= &= ^= |=
запятая | ,

## 2.11. spread & rest operators
- **Spread** - собирает много элементов в один
- **Rest** - используется для деструктуризации массивов и объектов

```javascript
// Для вызовов функций:
function myFunction(...args) {}
myFunction(...iterableObj);

// Для литералов массива или строк:
const someArray = [...iterableObj, '4', 'five', 6];
const [firstElement, ...other] = someArray

// Для литералов объекта (новое в ECMAScript 2018):
let objClone = { ...obj };
let { someField, ...other } = objClone;
```

## 2.12. Optional chaining operator
```javascript
const adventurer = { name: 'Alice', cat: { name: 'Dinah' } };
const arr = ['dog', 'cat']

console.log(adventurer.cat?.name);                  // 'Dinah'
console.log(adventurer.dog.name);                   // TypeError: adventurer.dog is undefined
console.log(adventurer.dog?.name);                  // undefined
console.log(adventurer.dog?.['name']);              // undefined
console.log(adventurer.someNonExistentMethod?.());  // undefined
console.log(arr?.[6]);                              // undefined
```


# 3. Main statements 

## 3.1. If

### Оператор If:
```
if (...) {
  ...
} else if (...) {
  ...
} else {
  ...
}
```

### Тернарный оператор '?':
```
переменная = условие ? значениеУсловиеВерно : значениеУсловиеНеверно
```

### В логическом контексте:
  *  Число **0**, пустая строка **""**, **null** и **undefined**, а также **NaN** являются **false**,
  *  Остальные значения – **true**.

## 3.2. switch
```javascript
switch(x) {
  case 'value1':  // if (x === 'value1')
    // ...
    break;

  case 'value2':  // if (x === 'value2')
    // ...
    break;

  default:
    // ...
    break;
}
```
Если break нет, то выполнение пойдёт ниже по следующим case, при этом остальные проверки игнорируются.

## 3.3. loops
### Цикл while
Пока условие верно – выполняется код из тела цикла:
```javascript
while (условие) {
  // код, тело цикла
}
```
### Цикл do..while
Цикл сначала выполняет тело, а затем проверяет условие:
```javascript
do {
  // тело цикла
} while (условие);
```
### Цикл for
```javascript
for (начало; условие; шаг) {
  // ... тело цикла ...
  break // Прерывание цикла
  continue // прекращает выполнение текущей итерации цикла
}
```
### Цикл for..in
Порядок перебора соответствует порядку объявления для нечисловых ключей, а числовые – сортируются (в современных браузерах).
```javascript
for (key in obj) {
  /* ... делать что-то с obj[key] ... */
}
```
### break/continue
```javascript
outer: for (var i = 0; i < 3; i++) {
  for (var j = 0; j < 3; j++) {
    break; // // прекращает выполнение текущего цикла
    break outer; // прекращает выполнение цикла с меткой "outer"
    continue; // прекращает выполнение текущей итерации внутр.цикла
  }
}
```
