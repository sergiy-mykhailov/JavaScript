# Dependency Injection

**Внедрение зависимости (Dependency injection)** — процесс предоставления внешней зависимости программному компоненту.
Является специфичной формой «инверсии управления» (Inversion of control), когда она применяется к управлению зависимостями.

### Tри основных типа внедрения зависимостей:
- **constructor injection**: все зависимости передаются через конструктор класса.
- **setter injection**: разработчик добавляет setter-метод, с помощью которого инжектор внедряет зависимость
- **interface injection**: зависимость предоставляет инжектору метод, с помощью которого инжектор передаст зависимость. Разработчики должны реализовать интерфейс, предоставляющий setter-метод, который принимает зависимости

```typescript
import { Engine } from './Engine';
import { Wheel } from './Wheel';

class Car {
    private engine: Engine;
    private wheel: Wheel;
    
    // constructor injection
    public constructor (engine: Engine) {
        this.engine = engine;
    }

    // setter injection
    setWheel(wheel: Wheel){
    this.wheel = wheel;
}
    
    // ...
}
```

Car получил или внедрил экземпляр Engine из более высокого уровня управления в его конструкторе.
Инъекция зависимостей — акт передачи зависимости в другой класс или функцию.

### Преимущества Dependency injection
- Помогает в модульном тестировании
- Количество шаблонного кода сокращается, поскольку инициализация зависимостей выполняется компонентом инжектора;
- Расширение приложения становится еще проще;
- Помогает уменьшить связность кода, что важно при разработке приложений.

### Недостатки Dependency injection
- Это несколько сложновато для изучения, а чрезмерное использование может привести к проблемам управления или другим проблемам.
- Многие возможные ошибки из процесса компиляции перемещаются в процесс выполнения программы.
- Внедрения зависимостей во фреймворках реализовано с помощью рефлексии или динамического программирования. Это может помешать использованию автоматизации разработки с помощью IDE, например, будет сложно воспользоваться функциями «найти ссылки», «показать иерархию вызовов» и будет сложно заниматься безопасно рефакторингом.
